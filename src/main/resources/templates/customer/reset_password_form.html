<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments :: page_head('Réinitialisation de password', 'none')" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" th:href="@{/style.css}">
<body>
<div class="container-fluid text-center">

	<div th:replace="navigation :: header_menu"></div>
	
	<div class="mt-5">
		<h2>Réinitialisation de votre mot de passe</h2><hr/>		
	</div>
	
	<form th:action="@{/reset_password}" method="post" style="max-width: 420px; margin: 0 auto">
		<input type="hidden" th:value="${token}" name="token" />
		<div class="border border-info rounded p-3">
		
			<div>
				<p>
					<input type="password" name="password" id="password" placeholder="Entrez votre nouveau mot de passe" 
						minlength="8" maxlength="15" required="required" autofocus="autofocus"
						class="form-control"/>
				</p>
			</div>
			<div>
				<p>
					<input type="password" placeholder="Confirmez votre nouveau mot de passe" 
						minlength="8" maxlength="15" required="required" class="form-control"
						oninput="checkPasswordMatch(this)"/>
				</p>
			</div>
			<div>
				<p>
					<input type="submit" value="Changez votre mot de passe" class="btn btn-primary mt-5" />
				</p>
			</div>
		</div>
	
	</form>

	
	<div style="margin-bottom:100px;"></div>

	<div th:replace="navigation :: footer_menu"></div>
</div>	

<script type="text/javascript">
function checkPasswordMatch(confirmPassword) {
	if (confirmPassword.value != $("#password").val()) {
		confirmPassword.setCustomValidity("Les deux mots de passe ne correspondent pas!");
	} else {
		confirmPassword.setCustomValidity("");
	}
}
</script>

</body>
</html>